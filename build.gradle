buildscript {
    repositories {
        mavenLocal()
        mavenCentral()
        maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
        maven { url "https://oss.sonatype.org/content/repositories/releases/" }
        jcenter()
    }
    dependencies {
        classpath 'de.richsource.gradle.plugins:gwt-gradle-plugin:0.6'
        classpath "com.jtransc:jtransc-gradle-plugin:0.6.5"
    }
}

allprojects{
    repositories {
        mavenCentral()
    }
}

project(":core"){
    apply plugin: 'java'
    apply plugin: 'jacoco'
    dependencies {
        testCompile 'junit:junit:4.10'
        testCompile 'org.eclipse.jdt.core.compiler:ecj:4.6.1'
        testCompile 'org.eclipse.jdt.core.compiler:ecj:4.6.1:sources'
    }
}

project(":test-gwt"){
    apply plugin: 'java'
    apply plugin: 'gwt'
    apply plugin: 'war'
    dependencies {
        compile project(":core")
        compile 'com.google.gwt:gwt-user:2.8.0'
        compile 'com.google.gwt:gwt-dev:2.8.0'
    }
}

project(":test-jtransc"){
    apply plugin: 'java'
    apply plugin: 'jtransc'
    project.ext.mainClassName = "io.github.fxzjshm.jvm.java.Main"
    dependencies {
        compile project(":core")
    }
}
